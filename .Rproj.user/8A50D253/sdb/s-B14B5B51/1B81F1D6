{
    "contents" : "y <- c(2,3,2,1,2,1,5,5)\nid <- c(1,1,1,1,2,2,2,2)\nds <- data.frame(cbind(id,y))\nds\nds$wave <- with(ds, ave( id, id, FUN = seq_along)) # sequential numbers\nds \n\nds$ym00 <- mean(ds$y)\nds\n\n\n\nlibrary(dplyr)\n\ndplyr::group_by(ds,id) %>% dplyr::summarize(means = mean(y)) \n\nmean(ds[ds$id==1,\"y\"])\nmean(ds[ds$id==2,\"y\"])\n\nlm(y ~ 1, data=ds[ds$id==1,\"y\"])\n\n# \n# ds <- dplyr::select(ds, id, y wave) %>%\n#   dplyr::group\nids <- unique(ds$id)\nds\nfor (i in ids ){\n    ds[ds$is==i,\"m0\"] <- mean(ds[ds$id ==i,\"y\"])\n}\nds\n\n\nlibrary(lme4)\nlibrary (ggplot2)\nlm(y ~ 1 + wave, ds)\nmodel <- lmer(y ~ 1 + wave +(1 + wave|id), ds)\ncoef(model)\n\nds$m00 <- mean(ds$y)\ng <- ggplot(ds, aes(x=wave,y=y, group=id))\ng <- g + geom_line()\ng <- g + geom_point()\ng <- g + geom_line(aes(y=m00), color=\"red\")\ng\n\nds$m0 <- predict(lmer(y ~ 1 + (1|id),ds, REML=T))\nds\n\n(coefs <- fixef(model)) #Extract the coefficients for the fixed effects.\n#create conditional prediction lines for each of the birth year cohorts.\n# This is where the bottom part goes from \"the list of models.R\"\ndsp$YPar<-(\n  (coefs[\"(Intercept)\"])         +(coefs[\"agec\"]*dsp$agec)\n  +(coefs[\"timec\"]*dsp$timec)    +(coefs[\"timec:agec\"]*dsp$agec*dsp$timec)\n  +(coefs[\"timec2\"]*dsp$timec2)  +(coefs[\"timec2:agec\"]*dsp$agec*dsp$timec2)\n  +(coefs[\"timec3\"]*dsp$timec3)  \n)",
    "created" : 1422863287347.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "798314341",
    "id" : "1B81F1D6",
    "lastKnownWriteTime" : 1422900121,
    "path" : "~/GitHub/psy564/Chapters/05/R_Chapter5/SimpleExample.R",
    "project_path" : "Chapters/05/R_Chapter5/SimpleExample.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}