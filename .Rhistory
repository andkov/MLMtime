<<<<<<< HEAD
p <- p + plotTheme
p <- p + scale_x_continuous(limits=c(0,5),
breaks=c(0:5))
p <- p + scale_y_continuous(limits=c(0,10),
breaks=seq(1,10, by=1))
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(dsM,aes(x=wave,y=irecall))
p <- p + geom_line(aes(group=id), color='firebrick',
alpha=.2,
position=position_jitter(w=0.1, h=0.1))
p <- p + geom_point(shape=1, color="black", fill=NA,
alpha=.4, size=2,
position=position_jitter(w=0.1, h=0.2))
p <- p + plotTheme
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(0,10),
breaks=seq(1,10, by=1))
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
dsM <- dplyr::select(dsL, id, dob, age, age80, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   4.929 , slope = -0.146 , Iage80 =   -0.055, Sage80 =  -0.008,
ypred = int + Iage80*age80 + wave*(slope + Sage80*age80),
yp_low = int + Iage80*(-10) + wave*(slope + Sage80*(-10)),
yp_mid = int + Iage80*(0) + wave*(slope + Sage80*(0)),
yp_high = int + Iage80*(10) + wave*(slope + Sage80*(10)))
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100))
head(ds)
head(dsL)
=======
dsL <- dplyr::filter(dsL, (ave(!is.na(irecall), id, FUN = all))) # only complete trajectoies
dsL <- dplyr::filter(dsL, (ave(!is.na(drecall), id, FUN = all))) # only complete trajectoies
dsL <- dplyr::filter(dsL, (ave(!is.na(animal), id, FUN = all))) # only complete trajectoies
dsL <- dplyr::filter(dsL, (ave(!is.na(prospect), id, FUN = all))) # only complete trajectoies
length(unique(dsL$id))
table(dsL$wave)
dsL <- dsL[dsL$id %in% unique((dsL[dsL$wave==4,c("id","wave")])$id ),] # only who reached 4th wave
length(unique(dsL$id))
table(dsL$wave)
## @knitr DataExport
# save data for use in R
saveRDS(object=dsL, file="~/GitHub/psy564/Data/Derived/ELSA/dsL_ELSA.rds", compress="xz")
#### save LONG data for MPlus  ####
write.table(dsL,file="~/GitHub/psy564/Projects/ELSA/CogDecline/dsL_ELSA.csv",na="-9999",row.names=FALSE, col.names=FALSE, sep=",")
# save the header
varNamesL <- colnames(dsL) # get variable names
cat(varNamesL) # print, copy, paste into Mplus
write.csv(t(varNamesL), file="~/GitHub/psy564/Projects/ELSA/CogDecline/dsL_ELSA_varNames.csv") # export as a csv
#### save WIDE data for MPlus ####
## Transform
head(dsL)
ds <- dplyr::select(dsL, id, dob, sex, age, edu, ht, db, htdb, nocase,
angina=ang1A, stroke=stk1A, smoked=evrsmk1A,
time, wave, year, ageCur=Age,
irecall, drecall, animal, prospect)
# head(ds)
timeInvariant <- c( "id", "dob", "sex", "age", "edu", "ht", "db", "htdb", "nocase",
"angina", "stroke", "smoked")
timeVariant <- c("time", "wave", "year", "ageCur", "irecall", "drecall", "animal","prospect")
dsLong <- reshape2::melt(ds,id.vars = c(timeInvariant, "wave"), measure.vars = timeVariant )
dsLong <- dsLong[order(dsLong$id, dsLong$variable), ]
# head(dsLong, 20)
dsW <- reshape2::dcast(dsLong, id + dob + sex + age + edu + ht + db + htdb + nocase + angina + stroke + smoked  ~ variable + wave, value.var="value"  )
head(dsW)
# Export the data
write.table(dsW,file="~/GitHub/psy564/Projects/ELSA/CogDecline/dsW_ELSA.dat",col.names = F)
write.csv(colnames(dsW), file="~/GitHub/psy564/Projects/ELSA/CogDecline/dsW_ELSA_varNames.csv")
# Export the header
varNamesW <- colnames(dsW) # get variable names
cat(varNamesW) # print, copy, paste into Mplus
write.csv(t(varNamesW), file="~/GitHub/psy564/Projects/ELSA/CogDecline/dsW_ELSA_varNames.csv") # export as a csv
#### Graphing ####
## @knitr LoadGraphThemes
paletteColor4conditions <- c("Hypertension"="red",
"Diabetes"="blue",
"Both"="purple",
"None"="grey10")
>>>>>>> origin/master
baseSize <- 12 # set as the point of further reference
theme1 <- ggplot2::theme_bw(base_size=baseSize) +
ggplot2::theme(title=ggplot2::element_text(colour="gray20",size = baseSize+1)) +
ggplot2::theme(axis.text=ggplot2::element_text(colour="gray40", size=baseSize-2)) +
ggplot2::theme(axis.title=ggplot2::element_text(colour="gray40")) +
ggplot2::theme(panel.border = ggplot2::element_rect(colour="gray80")) +
ggplot2::theme(axis.ticks.length = grid::unit(0, "cm")) +
ggplot2::theme(text = element_text(size =baseSize+7))
<<<<<<< HEAD
dsM <- dplyr::select(dsL,id, dob, age, age80, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) # subset variables
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100))   # select only N ids
head(ds)
=======
## @knitr CrossSectionDist
# Cross-sectional view: irecall
p <- ggplot2::ggplot(dsL, aes(y=irecall,x=factor(year), fill=condition))
p <- p + geom_violin( adjust=1, alpha=.4 )
p <- p + scale_y_continuous(limits=c(0,10), breaks=seq(0,10,by=1))
p <- p + scale_fill_manual(values=paletteColor4conditions)
p <- p + geom_boxplot(width=1, fill=NA, color="black", alpha=.5, outlier.colour="red")
p <- p + stat_summary(fun.y=mean, geom="point", fill="white", shape=21, size=4)
p <- p + facet_grid(dbts ~ hptn)
p <- p + theme1
p
baseSize <- 12 # set as the point of further reference
theme1 <- ggplot2::theme_bw(base_size=baseSize) +
ggplot2::theme(title=ggplot2::element_text(colour="gray20",size = baseSize+1)) +
ggplot2::theme(axis.text=ggplot2::element_text(colour="gray40", size=baseSize-2)) +
ggplot2::theme(axis.title=ggplot2::element_text(colour="gray40")) +
ggplot2::theme(panel.border = ggplot2::element_rect(colour="gray80")) +
ggplot2::theme(axis.ticks.length = grid::unit(0, "cm")) +
ggplot2::theme(text = element_text(size =baseSize+7))
# remove all elements for a clean start
rm(list=ls(all=TRUE))
cat("\014")
## @knitr InstallPackage
# source("./Scripts/Utility/InstallPackages.R")
## @knitr LoadPackages
require(sas7bdat) # for inputting data
library(dplyr) # for general data manipulation
# library(reshape2) # for data : wide <-> long
# library(psych) # data summary + etc
# library(ggplot2) # graphing
# library(nlme) # estimate fixed models | esp. gls()
# library(lme4) # estimate mixed models | esp. lmer()
# library(arm)  # process model objects
## @knitr LoadData
ds0 <- readRDS("~/GitHub/psy564/Data/Raw/ELSA/ds0_ELSA.rds")
dim(ds0)
length(unique(ds0$PID))
head(ds0)
View(ds0)
dsL <- ds0
table(dsL$irecall,dsL$wave, useNA="ifany") # frequency table
dsL <- dplyr::filter(dsL, wave %in% c(1:4))
table(dsL$irecall,dsL$wave, useNA="ifany")
## @knitr DataFilter2
# Selecting individuals into the working dataset
length(unique(dsL$id))
table(dsL$wave)
dsL <- dplyr::filter(dsL, (ave(!is.na(irecall), id, FUN = all))) # only complete trajectoies
dsL <- dplyr::filter(dsL, (ave(!is.na(drecall), id, FUN = all))) # only complete trajectoies
dsL <- dplyr::filter(dsL, (ave(!is.na(animal), id, FUN = all))) # only complete trajectoies
dsL <- dplyr::filter(dsL, (ave(!is.na(prospect), id, FUN = all))) # only complete trajectoies
length(unique(dsL$id))
table(dsL$wave)
dsL <- dsL[dsL$id %in% unique((dsL[dsL$wave==4,c("id","wave")])$id ),] # only who reached 4th wave
length(unique(dsL$id))
table(dsL$wave)
#### save LONG data for MPlus  ####
write.table(dsL,file="~/GitHub/psy564/Projects/ELSA/CogDecline/dsL_ELSA.csv",na="-9999",row.names=FALSE, col.names=FALSE, sep=",")
# save the header
varNamesL <- colnames(dsL) # get variable names
cat(varNamesL)
cat(varNamesL)
attach(dsL)
dsL$agecat[age <= 59] <- "under 60"
dsL$agecat[age >= 60 & age <= 69] <- "60 - 69"
dsL$agecat[age >= 70 & age <= 79] <- "70 - 79"
dsL$agecat[age >= 80] <- "over 80"
detach(dsL)
dsL$agecat <- ordered(dsL$agecat, levels= c("under 60", "60 - 69", "70 - 79","over 80"),
labels =c("under 60", "60 - 69", "70 - 79","over 80"))
table(dsL$agecat)
View(dsL)
dsM <- dplyr::select(dsL,id, dob, age, age80, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) # subset variables
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100))   # select only N ids
head(ds)
View(ds)
>>>>>>> origin/master
p <- ggplot2::ggplot(ds,aes(x=wave,y=irecall))
p <- p + geom_line(aes(group=id), color='firebrick',
alpha=.2,
position=position_jitter(w=0.1, h=0.1))
p <- p + geom_point(shape=1, color="black", fill=NA,
alpha=.4, size=2,
position=position_jitter(w=0.1, h=0.2))
<<<<<<< HEAD
p <- p + plotTheme
=======
>>>>>>> origin/master
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(0,10),
breaks=seq(1,10, by=1))
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
<<<<<<< HEAD
dsM <- dplyr::select(dsL, id, dob, age, age80, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   4.929 , slope = -0.146 , Iage80 =   -0.055, Sage80 =  -0.008,
ypred = int + Iage80*age80 + wave*(slope + Sage80*age80),
yp_low = int + Iage80*(-10) + wave*(slope + Sage80*(-10)),
yp_mid = int + Iage80*(0) + wave*(slope + Sage80*(0)),
yp_high = int + Iage80*(10) + wave*(slope + Sage80*(10)))
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100)) # select only N ids
head(ds)
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="dashed")
p <- p + geom_line(aes(y=yp_mid), color = "red")
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="dashed")
=======
## @knitr LoadGraphThemes
paletteColor4conditions <- c("Hypertension"="red",
"Diabetes"="blue",
"Both"="purple",
"None"="grey10")
baseSize <- 12 # set as the point of further reference
theme1 <- ggplot2::theme_bw(base_size=baseSize) +
ggplot2::theme(title=ggplot2::element_text(colour="gray20",size = baseSize+1)) +
ggplot2::theme(axis.text=ggplot2::element_text(colour="gray40", size=baseSize-2)) +
ggplot2::theme(axis.title=ggplot2::element_text(colour="gray40")) +
ggplot2::theme(panel.border = ggplot2::element_rect(colour="gray80")) +
ggplot2::theme(axis.ticks.length = grid::unit(0, "cm")) +
ggplot2::theme(text = element_text(size =baseSize+7))
p <- ggplot2::ggplot(ds,aes(x=wave,y=irecall))
p <- p + geom_line(aes(group=id), color='firebrick',
alpha=.2,
position=position_jitter(w=0.1, h=0.1))
p <- p + geom_point(shape=1, color="black", fill=NA,
alpha=.4, size=2,
position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(0,10),
breaks=seq(1,10, by=1))
>>>>>>> origin/master
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
<<<<<<< HEAD
=======
dsM <- dplyr::select(dsL, id, dob, age, age80, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   4.929 , slope = -0.146 , Iage80 =   -0.055, Sage80 =  -0.008,
ypred = int + Iage80*age80 + wave*(slope + Sage80*age80),
yp_low = int + Iage80*(-10) + wave*(slope + Sage80*(-10)),
yp_mid = int + Iage80*(0) + wave*(slope + Sage80*(0)),
yp_high = int + Iage80*(10) + wave*(slope + Sage80*(10)))
head(dsM)
dsM <- dplyr::select(dsL, id, dob, age, age80, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   4.929 , slope = -0.146 , Iage80 =   -0.055, Sage80 =  -0.008,
ypred = int + Iage80*age80 + wave*(slope + Sage80*age80),
yp_low = int + Iage80*(-10) + wave*(slope + Sage80*(-10)),
yp_mid = int + Iage80*(0) + wave*(slope + Sage80*(0)),
yp_high = int + Iage80*(10) + wave*(slope + Sage80*(10)))
head(dsM)
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100)) # %>% # select only N ids
>>>>>>> origin/master
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
<<<<<<< HEAD
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash")
p <- p + geom_line(aes(y=yp_mid), color = "red")
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash")
=======
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=1)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=1.5)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=1)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
ds <- dplyr::filter(dsM, id %in% sample(unique(id),900)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5, position=position_jitter(w=.1, h=.1))
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="#1b9e77",
"60 - 69"="#d95f02",
"70 - 79"="#7570b3",
"over 80"="#e7298a")
ds <- dplyr::filter(dsM, id %in% sample(unique(id),900)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5, position=position_jitter(w=.1, h=.1))
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
dsM <- dplyr::select(dsL, id, dob, age, age80, edu11, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall )
## @knitr  DefineModelDataEdu
dsM <- dplyr::select(dsL, id, dob, age, age80, edu11, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   5.127 , slope = -0.151 , Iage80 =   -0.044 , Sage80 =  -0.008, Iedu11 = 0.192, Sedu11 = 0.001 ,
ypred = int + Iage80*age80 + Iedu11*edu11 + wave*(slope + Sage80*age80 + Sedu11*edu11),
yp_low = int  + Iage80*(-10) + Iedu11*(0) + wave*(slope + Sage80*(-10) + Sedu11*(0)),
yp_mid = int  + Iage80*(0)   + Iedu11*(0) + wave*(slope + Sage80*(0)   + Sedu11*(0)),
yp_high = int + Iage80*(10)  + Iedu11*(0) + wave*(slope + Sage80*(10)  + Sedu11*(0)))
head(dsM)
## @knitr ProtoLines
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=1)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=1.5)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=1)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
## @knitr  DefineModelData
dsM <- dplyr::select(dsL, id, dob, age, age80, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   4.929 , slope = -0.146 , Iage80 =   -0.055, Sage80 =  -0.008,
ypred = int + Iage80*age80 + wave*(slope + Sage80*age80),
yp_low = int + Iage80*(-10) + wave*(slope + Sage80*(-10)),
yp_mid = int + Iage80*(0) + wave*(slope + Sage80*(0)),
yp_high = int + Iage80*(10) + wave*(slope + Sage80*(10)))
head(dsM)
## @knitr ProtoLines
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=1)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=1.5)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=1)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
## @knitr  DefineModelDataEdu
dsM <- dplyr::select(dsL, id, dob, age, age80, edu11, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   5.127 , slope = -0.151 , Iage80 =   -0.044 , Sage80 =  -0.008, Iedu11 = 0.192, Sedu11 = 0.001 ,
ypred = int + Iage80*age80 + Iedu11*edu11 + wave*(slope + Sage80*age80 + Sedu11*edu11),
yp_low = int  + Iage80*(-10) + Iedu11*(0) + wave*(slope + Sage80*(-10) + Sedu11*(0)),
yp_mid = int  + Iage80*(0)   + Iedu11*(0) + wave*(slope + Sage80*(0)   + Sedu11*(0)),
yp_high = int + Iage80*(10)  + Iedu11*(0) + wave*(slope + Sage80*(10)  + Sedu11*(0)))
head(dsM)
## @knitr IndividualPredictionsAge
colorValues <- c("under 60"="#1b9e77",
"60 - 69"="#d95f02",
"70 - 79"="#7570b3",
"over 80"="#e7298a")
ds <- dplyr::filter(dsM, id %in% sample(unique(id),900)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5, position=position_jitter(w=.1, h=.1))
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
## @knitr  DefineModelData2
dsM <- dplyr::select(dsL, id, dob, age, age80, edu11, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   5.127 , slope = -0.151 , Iage80 =   -0.044 , Sage80 =  -0.008, Iedu11 = 0.192, Sedu11 = 0.001 ,
ypred = int + Iage80*age80 + Iedu11*edu11 + wave*(slope + Sage80*age80 + Sedu11*edu11),
yp_low = int  + Iage80*(-10) + Iedu11*(2) + wave*(slope + Sage80*(-10) + Sedu11*(2)),
yp_mid = int  + Iage80*(0)   + Iedu11*(2) + wave*(slope + Sage80*(0)   + Sedu11*(2)),
yp_high = int + Iage80*(10)  + Iedu11*(2) + wave*(slope + Sage80*(10)  + Sedu11*(2)))
head(dsM)
## @knitr ProtoLines2
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=1)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=1.5)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=1)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
## @knitr  DefineModelData2
dsM <- dplyr::select(dsL, id, dob, age, age80, edu11, agecat, Age, female, year, time, wave,irecall,animal,prospect, drecall ) %>%
dplyr::mutate(int =   5.127 , slope = -0.151 , Iage80 =   -0.044 , Sage80 =  -0.008, Iedu11 = 0.192, Sedu11 = 0.001 ,
ypred = int + Iage80*age80 + Iedu11*edu11 + wave*(slope + Sage80*age80 + Sedu11*edu11),
yp_low = int  + Iage80*(-10) + Iedu11*(-2) + wave*(slope + Sage80*(-10) + Sedu11*(-2)),
yp_mid = int  + Iage80*(0)   + Iedu11*(-2) + wave*(slope + Sage80*(0)   + Sedu11*(-2)),
yp_high = int + Iage80*(10)  + Iedu11*(-2) + wave*(slope + Sage80*(10)  + Sedu11*(-2)))
head(dsM)
## @knitr ProtoLines2
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=1)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=1.5)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=1)
>>>>>>> origin/master
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
<<<<<<< HEAD
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=3)
p <- p + geom_line(aes(y=yp_mid), color = "red")
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=3)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=2)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=2)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=2)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=1)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=2)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=1)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=1)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=1.5)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=1)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + geom_line(aes(group=id), color='blue', alpha=.1)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(group=id, color=over_80))
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
# p <- p + geom_line(aes(group=id), color='blue', alpha=.1)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.2))
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
# p <- p + geom_line(aes(group=id), color='blue', alpha=.1)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.2)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
# p <- p + geom_line(aes(group=id), color='blue', alpha=.1)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.8)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, fill=agecat))
# p <- p + geom_line(aes(group=id), color='blue', alpha=.1)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.8)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
# p <- p + geom_line(aes(group=id), color='blue', alpha=.1)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
colorValues <- c("under 60"="red", "60 - 69"="blue", "70 - 79"="green","over 80"="black")
colorValues
colorValues <- c("under 60"="red", "60 - 69"="blue", "70 - 79"="green","over 80"="black")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
# p <- p + geom_line(aes(group=id), color='blue', alpha=.1)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5)
p <- p + scale_color_manual(colorValues)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
colorValues <- c("under 60"="red", "60 - 69"="blue", "70 - 79"="green","over 80"="black")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
# p <- p + geom_line(aes(group=id), color='blue', alpha=.1)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
colorValues <- c("under 60"="red",
"60 - 69"="blue",
"70 - 79"="green",
"over 80"="black")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=1)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
colorValues <- c("under 60"="red",
"60 - 69"="blue",
"70 - 79"="green",
"over 80"="black")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=1)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1)))
p <- p + theme1
p
colorValues <- c("under 60"="red",
"60 - 69"="blue",
"70 - 79"="green",
"over 80"="black")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=1)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="red",
"60 - 69"="blue",
"70 - 79"="green",
"over 80"="black")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.3)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="red",
"60 - 69"="blue",
"70 - 79"="green",
"over 80"="black")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.3)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation", color="Age Category"))
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="red",
"60 - 69"="blue",
"70 - 79"="green",
"over 80"="black")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.3)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="1b9e77",
"60 - 69"="d95f02",
"70 - 79"="7570b3",
"over 80"="e7298a")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.3)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="1b9e77",
"60 - 69"="d95f02",
"70 - 79"="7570b3",
"over 80"="e7298a")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.3)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="1b9e77",
"60 - 69"="#d95f02",
"70 - 79"="7570b3",
"over 80"="e7298a")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.3)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="#1b9e77",
"60 - 69"="#d95f02",
"70 - 79"="#7570b3",
"over 80"="#e7298a")
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.3)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
ds <- dplyr::filter(dsM, id %in% sample(unique(id),100)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id))
p <- p + geom_line(aes(group=id), color='blue', alpha=.2)
# p <- p + geom_point(shape=1, color="black", fill=NA,
#                     alpha=.4, size=2,
#                     position=position_jitter(w=0.1, h=0.2))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(aes(y=yp_low), color = "red", linetype="longdash", size=1)
p <- p + geom_line(aes(y=yp_mid), color = "red",  size=1.5)
p <- p + geom_line(aes(y=yp_high), color = "red", linetype="longdash", size=1)
p <- p + labs(list(title="Score on immediate recall",
x="Wave of the observation"))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.3)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
colorValues <- c("under 60"="#1b9e77",
"60 - 69"="#d95f02",
"70 - 79"="#7570b3",
"over 80"="#e7298a")
ds <- dplyr::filter(dsM, id %in% sample(unique(id),900)) # %>% # select only N ids
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5)
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
p <- ggplot2::ggplot(ds,aes(x=wave,y=ypred, group=id, color=agecat))
p <- p + scale_x_continuous(limits=c(1,4),
breaks=c(1:4))
p <- p + scale_y_continuous(limits=c(3,8),
breaks=seq(3,8, by=1))
p <- p + geom_line(alpha=.5, position=position_jitter(w=.1, h=.1))
p <- p + scale_color_manual(values=colorValues)
p <- p + labs(title="Score on immediate recall",
x="Wave of the observation", color="Age Category")
p <- p + guides(colour = guide_legend(override.aes = list(alpha = 1, size=4)))
p <- p + theme1
p
=======
# remove all elements for a clean start
rm(list=ls(all=TRUE))
cat("\014")
## @knitr InstallPackage
# source("./Scripts/Utility/InstallPackages.R")
## @knitr LoadPackages
require(sas7bdat) # for inputting data
library(dplyr) # for general data manipulation
# library(reshape2) # for data : wide <-> long
# library(psych) # data summary + etc
library(ggplot2) # graphing
# library(nlme) # estimate fixed models | esp. gls()
# library(lme4) # estimate mixed models | esp. lmer()
# library(arm)  # process model objects
## @knitr LoadData
ds0 <- read.csv("~/GitHub/psy564/Data/Raw/HRS/HRS_WIDE_n2000.dat")
dim(ds0)
View(ds0)
ds0 <- read.csv("~/GitHub/psy564/Data/Raw/HRS/HRS_WIDE_n2000.dat", header=F)
dim(ds0)
View(ds0)
namesare <- read.txt("./Projects/HRS/namesare.txt")
namesare <- read.table("./Projects/HRS/namesare.txt")
namesare <- read.table("./Projects/HRS/HRS/namesare.txt")
namesare <- read.table("./Projects/HRS/HRS/namesare.txt", sep=" ")
namesarePath <- "./Projects/HRS/HRS/namesare.txt"
namesare <- scan (namesarePath, what="character", sep=" ")
namesare
namesarePath <- "./Projects/HRS/HRS/namesare.txt"
namesare <- scan (namesarePath, what="character", sep=" ")
namesare
namesare <- scan (namesarePath, what="character", sep=" ")
# remove all elements for a clean start
rm(list=ls(all=TRUE))
cat("\014")
## @knitr InstallPackage
# source("./Scripts/Utility/InstallPackages.R")
## @knitr LoadPackages
require(sas7bdat) # for inputting data
library(dplyr) # for general data manipulation
# library(reshape2) # for data : wide <-> long
# library(psych) # data summary + etc
library(ggplot2) # graphing
# library(nlme) # estimate fixed models | esp. gls()
# library(lme4) # estimate mixed models | esp. lmer()
# library(arm)  # process model objects
## @knitr LoadData
ds0 <- read.csv("~/GitHub/psy564/Data/Raw/HRS/HRS_WIDE_n2000.dat", header=F)
dim(ds0)
# namesare <- read.table("./Projects/HRS/HRS/namesare.txt", sep=" ")
namesarePath <- "./Projects/HRS/Various/namesare.txt"
namesare <- scan (namesarePath, what="character", sep=" ")
names(ds0) <- namesare
ls() # list the availible function in mplus.R
# remove all elements for a clean start
rm(list=ls(all=TRUE))
cat("\014")
## @knitr LoadPackages
require(sas7bdat) # for inputting data
library(dplyr) # for general data manipulation
library(reshape2) # for data : wide <-> long
library(psych) # data summary + etc
library(ggplot2) # graphing
library(nlme) # estimate fixed models | esp. gls()
library(lme4) # estimate mixed models | esp. lmer()
library(arm)  # process model objects
# source("./Scripts/Mplus/mplus.R")
source("http://www.statmodel.com/mplus-R/mplus.R")
ls() # list the availible function in mplus.R
m0 <- "./Projects/ELSA/CogDecline/irecall/irecall_r(i)_r(s)_nocovar.gh5"
m1 <- "./Projects/ELSA/CogDecline/irecall/irecall_r(i)_r(s)_(is)age80.gh5"
m2 <- "./Projects/ELSA/CogDecline/irecall/irecall_r(i)_r(s)_(is)age80_(is)edu11.gh5"
m3 <- "./Projects/ELSA/CogDecline/irecall/irecall_r(i)_r(s)_(is)age80_(is)edu11_(is)smoked.gh5"
mplus.view.plots(m3)
model <- m3
mplus.list.variables(m3)
mplus.plot.histogram(model, "OUTCOME")
mplus.list.variables('./Projects/HRS/Various/HRS_BASIC.gh5')
model <- './Projects/HRS/Various/HRS_BASIC.gh5'
mplus.list.variables(model)
mplus.plot.histogram(model,'CDWRSCR4',10)
m0 <- "./Projects/ELSA/CogDecline/irecall/irecall_r(i)_r(s)_nocovar.gh5"
m1 <- "./Projects/ELSA/CogDecline/irecall/irecall_r(i)_r(s)_(is)age80.gh5"
m2 <- "./Projects/ELSA/CogDecline/irecall/irecall_r(i)_r(s)_(is)age80_(is)edu11.gh5"
m3 <- "./Projects/ELSA/CogDecline/irecall/irecall_r(i)_r(s)_(is)age80_(is)edu11_(is)smoked.gh5"
mplus.view.plots(m3)
model <- m3
mplus.list.variables(m3)
mplus.plot.histogram(model, "OUTCOME")
mplus.plot.histogram(model, "TIMEL")
mplus.plot.histogram(model, "EVRSMK1A")
mplus.plot.histogram(model, "EDU11")
mplus.plot.histogram(model, "AGE80")
mplus.plot.histogram(model, "LINEAR")
mplus.plot.histogram(model,'CDWRSCR4',10)
model <- './Projects/HRS/Various/HRS_BASIC.gh5'
mplus.list.variables(model)
mplus.plot.histogram(model,'CDWRSCR4',10)
model_growth <- './Projects/HRS/Various/hrs_lgmgrowth.gh5'
model_growth
model <- model_growth
mplus.list.variables(model)
mplus.plot.histogram(model,'CDWRSCR4',10)
mplus.plot.histogram(model,'CDWR1',10)
ls() # list the availible function in mplus.R
mplus.plot.loop(model)
model_growth <- './Projects/HRS/Various/hrs_lgmgrowth.gh5'
model <- model_growth
mplus.list.variables(model)
mplus.plot.histogram(model,'CDWR1',10)
mplus.plot.histogram(model,'CDWR1',10)
mplus.plot.histogram(model,'CDWR2',10)
model_growth <- './Projects/HRS/Various/hrs_lgmgrowth.gh5'
model <- model_growth
mplus.list.variables(model)
mplus.plot.histogram(model,'CDWR2',10)
mplus.plot.histogram(model,'CDWR1',10)
mplus.plot.histogram(model,'CDWR1')
mplus.plot.loop(model)
mplus.list.variables(model)
mplus.plot.histogram(model,'CDWR1')
mplus.plot.histogram(model,'I')
mplus.plot.histogram(model,'S')
mplus.plot.histogram(model,'T1')
mplus.plot.histogram(model,'T1', xlim=0, ylim=10)
mplus.plot.histogram(model,'I')
mplus.plot.histogram(model,'S')
model <- model_basic
mplus.list.variables(model)
model <- model_basic
model_basic <- './Projects/HRS/Various/HRS_BASIC.gh5'
model_growth <- './Projects/HRS/Various/hrs_lgmgrowth.gh5'
model <- model_basic
mplus.list.variables(model)
model_basic <- './Projects/HRS/Various/HRS_BASIC.gh5'
model_growth <- './Projects/HRS/Various/hrs_lgmgrowth.gh5'
model <- model_basic
mplus.list.variables(model)
mplus.plot.histogram(model,'T1', xlim=0, ylim=10)
mplus.plot.histogram(model,'T1')
model_growth <- './Projects/HRS/Various/hrs_lgmgrowth.gh5'
model <- model_growth
mplus.list.variables(model)
mplus.plot.histogram(model,'CDWR1')
mplus.plot.histogram(model,'I')
mplus.plot.histogram(model,'S')
>>>>>>> origin/master
